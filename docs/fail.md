# Внутренее использование

## Запуск документации 
Для локального запуска документации, скачайте Mkdocs c помощью команды "pip install mkdocs". Далее скачайте все файлы с документацией и пропишите команду *mkdocs serve* для создания локального сервера 

## Установка 

### Необходимое ПО для установки

* [Git](https://git-scm.com/download/win)
* [NodeJs](https://nodejs.org/ru/download/)
* [Geth](https://geth.ethereum.org/downloads/)
* [Python 3.10](https://www.python.org/downloads/)
* [VS Code](https://code.visualstudio.com/download)
* Python for VS Code
* Html, CSS for VS Code
* [Visual Studio C++ compiler](https://visualstudio.microsoft.com/ru/vs/features/cplusplus/)
* [Remix IDE] (https://github.com/ethereum/remix-desktop/releases)

Python modules

* Flask
* web3

Npm modules

* bootstrap
* jquery
* web3

### Инструкция по установке

#### Установка geth
При установке geth может возникнуть ошибка, программа не сможет найти путь для установки, чтобы решить эту проблему перезагрузите компьютер и запустите geth от имени администратора

#### Установка Visual Studio C++
Cкачайте версию "Community 2022" и поставте галочку в пункте 
"разработка классических приложений .NET"

#### Дополнительные модули
Установите ПО по порядку указанному в списке

Теперь перейдём к установке дополнительных расширений

Для этого откроем ранее установленный VS code.
Для начала установим Python, HTML и CSS, откройте пунк "расширения" в левой части экрана, в панели поиска введите "Python" и скачайте соответсвующее расширение. Аналогично скачайте расширение "HTML CSS Support"

Для проверки всех установленных программ откройту командную строку, нажмите на кнопку "windows" и в строке поиска введите "cmd", откройте командную строку введите "npm help" если перед вами появился список команд, то всё установленно правильно


##### Установка web3
Перед установкой web3 убедитесь, что вы установили компилятор C++ вместе с "разработка классических приложений .NET"

* Для установки расширения web3 "pip install web3"


##### Другие расширения
* Для установки расширения Flask введите "pip install flask"
* Для установки расширения jquery введите "pip install jquery"
* Для установки расширения bootstrap введите "npm install bootstrap"

Все эти расширения можно установить и через командную строку


## Инструкция для самостоятельного развёртывания
1) Сначала необходимо запустить частную блокчейн сеть:

   а)Необходимо иметь набор учетных записей, или создать их самостоятельно (При   самостоятельном создании учетных записей необходимо создать новый генезис-блок или исправить имеющийся)

   б)Выполнить инициализацию генезис-блока 

   в) Выполнить запуск сети с необходимыми флагами, указав домен для подключения к Remix, разблокировав учетную запись
   
            geth --datadir data --networkid 1595 --http --http.corsdomain="package://6fd22d6fe5549ad4c4d8fd3ca0b7816b.mod" --http.api web3,eth,debug,personal,net --allow-insecure-unlock console --unlock 0xff42Fc7fdB5928b63da0bF2340880369fE335bf0

            
   г) Открыть вторую командную строку. Проверить статус подключения в Remix, проверить наличие валюты на выполнение транзакций
    
   д) Запустить майнинг
            miner.start()

2) Выгрузить с помощью Remix контракт в сеть, скопировать адрес контракта в файл const.py, abi в файл abi.py

3) Запустить main.py, перейти по адресу 127.0.0.1:5000



## Инструкция по тестированию контракта

### Команды git

*  git clone - копирование репозитория (после команды необходимо ввести ссылку репозитория)
*  git add . - сохранение изменений
*  git commit -m "... вводите информацию об изменениях..." - комментирование изменений
*  git push - выгрузка изменений в репозиторий


1) Откройте папку Testing и запустите командную строку. Нас интересуют 2 файла init_genesis_sh.sh (команда ./geth init --datadir data genesis.json ) и start_geth_sh.sh(замените https://remix.ethereum.org) 

2)













Далее в remix выберите remix vm london, далее external http provider и нажмите ok









* chmod 777 init_genesis_sh.sh
* chmod 777 geth
* chmod 777 start_geth_sh.sh
* ./start_geth_sh.sh
* miner.start()
































## Номера ошибок

### Ошибки при регистрации и авторизации

003 - Адрес занят

005 - Email занят

006 - Неверный адрес

016 - Логин занят

019 - Вы не зарегестрированы

026 - Введите пароль

014 - Выбранной лаборатории не существует

015 - Лаборатории не введены 

007 - Неверный класс

030 - Неверная буква класса

020 - Неправильные данные

021 - Вы ввели несуществующий школьный предмет

022 - Вы не ввели школьный предмет


### Ошибки при работе над проектом

009 - У вас уже есть активный проект

011 - Слишком много задач 

012 - Неверный номер задачи

017 - Неверный номер проекта

025 - У вас нет активного проекта

027 - Слишком длинное имя проекта 

028 - Слишком короткое имя проекта

008 - Учителя не существует

018 - Этот адрес не принадлежит ученику

029 - Неверный номер лаборатории


### Ошибки при проверке текста

023 - Слишком короткий текст

024 - Слишком длинный текст



### Ошибки при проверке статуса пользователя

001 - Только для администратора

002 - Только для главного администратора

004 - Только для ученика

013 - Только для учителя


### Ошибки при заполнении личного кабинета

010 - Неверный номер сильной стороны 

031 - Слишком много сильных сторон

014 - Выбранной лаборатории не существует

015 - Лаборатории не введены 



### Не распределены